import spacy
nlp = spacy.load("de_core_news_sm")

text = "Der zweite Satz ist schwer zu verstehen. Ein zweiter Versuch lohnt sich."
doc = nlp(text)

def get_declension_type(adj_token):
    """
    adj_token: spaCy-Token des Adjektivs/Ordinalwortes (z.B. 'zweite', 'dritte')
    Rückgabe: 'weak', 'mixed', 'strong'
    """
    # Artikel zum Adjektiv suchen (im selben Nominalausdruck)
    article = None
    for child in adj_token.head.children:
        if child.pos_ == "DET":
            article = child
            break

    if article:
        morph = article.morph
        # bestimmter Artikel: der, die, das, dieser, jener, solcher, welcher
        if "Definite=Def" in morph:
            return "weak"
        # unbestimmter/possessiver Artikel: ein, kein, mein, dein, sein, ihr, unser, euer, Ihr
        if "Definite=Ind" in morph:
            return "mixed"
        # falls spaCy etwas Spezielles taggt
        return "mixed"
    else:
        # kein Artikel → starke Deklination
        return "strong"


# find gender and case of ordinal number
doc["ordinal_number_pos"].morph.get("Gender")
doc["ordinal_number_pos"].morph.get("Case")
